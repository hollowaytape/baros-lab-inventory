{% extends 'inventory/base.html' %}

{% block title %} {{ experiment_name }} - Lab Experiment {% endblock %}

{% block jumbotron %}
    {% if experiment %}
    <h1>{{ experiment_name }}</h1>
        <h3>{{ experiment.text.author }} - <em>{{ experiment.text}}</em><br>
        {{ experiment.text.year }} Year, {{ experiment.text.manual }}</h3>

    {% if tags %}
    <h4>Tags: {% for tag in tags.all %} <a href="{% url 'tag' tag.name %}">{{ tag.name }}</a> {% endfor %}</h4>
    {% else %}
    <h4>Tags: None</h4>
    {% endif %}
    {% endif %}
{% endblock %}
{% block body_block %}
<!-- This is a rough sketch of a resource gallery... to be refined when I have examples. -->
    {% if resources %}
        <div class="row">
            <div class="col-sm-6 col-md-4">
            {% for resource in resources.all %}
    
                <a href="{{ resource }}" class="thumbnail">
                <img data-src="holder.js/100%x180" alt="...">
                </a>
            {% endfor %}
        </div>
    </div>
    {% endif %}
    <h4>Materials:</h4>
    {% if materials %}
        <ul>
        {% for material in materials.all %}
            <li>{{ material.name }} ({{ material.count}}x in Room {{ material.room }}, {{material.location}})</li>     <!-- TODO: JQuery explanation of material locations. -->
        {% endfor %}
        </ul>
    {% else %}
        No materials found. Update the inventory database.
    {% endif %}
    <h4>Procedure:</h4>
    {% for step in procedure %}
        <li>{{ step }}</li>
    {% endfor %}
        
    <p><a href="{% url 'experiment_edit' experiment.id %}" class="btn btn-primary btn-lg">Edit the experiment</a>
    <a href="{% url 'experiment_index' %}" class="btn btn-primary btn-lg">Return to Experiment Index</a></p>
{% endblock %}